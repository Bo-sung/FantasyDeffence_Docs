# 프로토타입 개요

[← README](README.md)

---

## 1. 프로토타입 목표

영지 시스템의 **핵심 재미 루프**를 최소한의 구현으로 검증한다.

### 검증할 것

| # | 검증 포인트 | 질문 |
|---|-------------|------|
| 1 | 배치 재미 | 격자 위에 건물을 자유롭게 배치하는 것이 직관적이고 재미있는가? |
| 2 | 생산-수확 루프 | 시간 경과 → 자원 쌓임 → 수확의 사이클이 만족감을 주는가? |
| 3 | 만족도 시스템 | 편의 시설로 생산량이 달라지는 전략적 의미가 체감되는가? |
| 4 | 세금 구조 | 주거 시설 + 만족도 → 은화 수입 구조가 직관적인가? |
| 5 | 공간 압박 | 제한된 타일 안에서 생산/주거/편의 비율을 고민하게 되는가? |

### 검증하지 않을 것 (본편 연동 필요)

- 전투 시스템 연계 (자원 소모, 성벽 무기)
- 영웅 배치 보너스 (영웅 시스템 자체가 필요)
- 구역 확장 (거리 2, 3 구역)
- 군사/기능 시설 (무기고, 대장간, 도서관 등)
- 장식 시설
- 서버 검증, 멀티플레이

---

## 2. 프로토타입 범위

### 포함 (In Scope)

```
┌─────────────────────────────────────────┐
│              프로토타입 범위              │
│                                         │
│  [맵]  20×20 격자, 성벽, 영주성          │
│  [건설] 드래그 배치, 충돌 검사, 즉시 건설  │
│  [생산 시설] 농장, 마력 정제소            │
│  [주거 시설] 민가, 연립 주택              │
│  [편의 시설] 우물, 방앗간                 │
│  [생산] 시간 기반 자동 생산, 수확          │
│  [세금] 인구 × 만족도 → 은화              │
│  [레벨업] 건물 업그레이드 (Lv.1~3)        │
│  [구역] 시작 영역 + 거리 1 확장 (평원)    │
│  [UI] 상단 자원바, 하단 건설 메뉴          │
│                                         │
└─────────────────────────────────────────┘
```

### 제외 (Out of Scope)

| 항목 | 사유 |
|------|------|
| 전투 연동 | 전투 시스템 없이 독립 검증 |
| 영웅 배치 보너스 | 영웅 데이터 불필요하게 복잡 |
| 거리 2~3 구역 | 핵심 루프 검증에 불필요 |
| 군사 시설 (무기고, 공병 작업장) | 전투 연동 필요 |
| 기능 시설 (주점, 대장간, 도서관) | 타 시스템 의존 |
| 수리실 | 영웅 시스템 의존 |
| 장식 시설 | 핵심 아님 |
| 건물 회전 | 프로토에서 제외 (모두 0도) |
| 오프라인 생산 | 복잡도 대비 검증 가치 낮음 |
| 서버 사이드 검증 | 클라이언트 단독 프로토 |

---

## 3. 기술 스택 (권장)

프로토타입은 빠른 이터레이션을 위해 가벼운 스택을 사용한다.

| 옵션 | 스택 | 장점 |
|------|------|------|
| **A (권장)** | 단일 HTML + Canvas/DOM + JavaScript | 브라우저에서 즉시 실행, 별도 빌드 불필요 |
| B | Unity 2D (Tilemap) | 본편과 동일 엔진이면 자산 재사용 가능 |
| C | React + TypeScript | 상태관리 명확, UI 반복 수정 용이 |

> 기존 `UI_영지.html`이 이미 DOM 기반 프로토타입이 있으므로, 이를 확장하는 방식(옵션 A)이 가장 빠르다.

---

## 4. 핵심 루프 다이어그램

```
   ┌──────────┐
   │  건물 배치 │ ◄── 은화 소모
   └─────┬────┘
         │
         ▼
   ┌──────────┐
   │ 시간 경과  │ ◄── 생산 시설: 자원 축적
   │          │ ◄── 주거 시설: 세금 축적
   └─────┬────┘
         │
         ▼
   ┌──────────┐
   │  자원 수확  │ ──► 식량, 마석, 은화 획득
   └─────┬────┘
         │
         ▼
   ┌──────────┐
   │ 건물 레벨업 │ ◄── 은화 소모, 생산량 증가
   └─────┬────┘
         │
         ▼
   ┌──────────────┐
   │ 편의 시설 건설  │ ◄── 만족도 상승 → 전체 생산 보너스
   └──────┬───────┘
          │
          ▼
   ┌──────────┐
   │ 구역 확장  │ ◄── 은화 소모, 새 타일 확보
   └──────────┘
          │
          └───► (더 많은 건물 배치 → 루프 반복)
```

---

## 5. 성공 기준

프로토타입으로 다음 질문에 답할 수 있어야 한다:

| # | 질문 | 판단 방법 |
|---|------|-----------|
| 1 | 배치가 직관적인가? | 3회 이내 클릭으로 건물 배치 완료 |
| 2 | 공간 고민이 발생하는가? | 시작 영역이 50% 이상 찼을 때 다음 건물 선택에 고민이 생기는가 |
| 3 | 수확이 만족스러운가? | 자원 숫자가 올라가는 것을 보고 "더 짓고 싶다"는 생각이 드는가 |
| 4 | 만족도가 전략적 의미를 갖는가? | 편의 시설 없이 vs 있을 때 생산량 차이가 체감되는가 |
| 5 | 세금이 의미 있는 수입원인가? | 주거 시설 투자 후 은화 수입 증가가 체감되는가 |
