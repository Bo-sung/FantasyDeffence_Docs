# 스탯 시스템

[← README로 돌아가기](../README.md)

---

## 엔티티 기본 구조

> 영웅, 병사, 몬스터, 구조물, 성벽 무기 등 모든 전투 엔티티에 적용

---

## 진영 (Faction)

| 진영      | 설명  | 소속 엔티티                      |
| ------- | --- | --------------------------- |
| ALLY    | 아군  | 영웅, 병사, 바리케이드, 함정, 성벽, 성벽무기 |
| ENEMY   | 적군  | 몬스터, 적 구조물, 보스              |
| NEUTRAL | 중립  | 환경 오브젝트, NPC (선택적)          |

### 진영 간 상호작용

| 공격자 → 대상 | ALLY | ENEMY | NEUTRAL |
|---------------|------|-------|---------|
| ALLY | ✗ | ✓ | ✗ |
| ENEMY | ✓ | ✗ | ✗ |
| NEUTRAL | ✗ | ✗ | ✗ |

- 같은 진영끼리는 피해 무효
- 아군 스킬(힐/버프)은 ALLY에만 적용
- 적군 스킬(디버프)은 ENEMY에만 적용

---

## 핵심 스탯 (모든 엔티티 공통)

| 스탯 | 약어 | 설명 |
|------|------|------|
| 체력 | HP | 피해를 받을 수 있는 총량, 0이 되면 파괴/전사 |
| 물리 공격력 | ATK | 물리 피해량 |
| 마법 공격력 | MAG | 마법 피해량 |
| 물리 방어력 | DEF | 물리 피해 감소 |
| 마법 방어력 | RES | 마법 피해 감소 |

---

## 선택 스탯 (엔티티 유형에 따라)

| 스탯 | 약어 | 적용 대상 | 설명 |
|------|------|-----------|------|
| 공격속도 | SPD | 유닛 | 초당 공격 횟수 |
| 이동속도 | MOV | 유닛 | 초당 이동 거리 |
| 사거리 | RNG | 유닛, 성벽무기 | 공격 가능 거리 |
| 치명타율 | CRT | 유닛 | 치명타 발생 확률 |
| 회피율 | EVA | 유닛 | 공격 회피 확률 |

---

## 엔티티 유형별 스탯 구성

| 엔티티 | 진영 | HP | ATK | MAG | DEF | RES | SPD | MOV | RNG |
|--------|------|----|----|-----|-----|-----|-----|-----|-----|
| 영웅/병사 | ALLY | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 바리케이드 | ALLY | ✓ | - | - | ✓ | ✓ | - | - | - |
| 함정 | ALLY | - | ✓ | ✓ | - | - | - | - | - |
| 성벽 | ALLY | ✓ | - | - | ✓ | ✓ | - | - | - |
| 성벽 무기 | ALLY | - | ✓ | ✓ | - | - | ✓ | - | ✓ |
| 몬스터 | ENEMY | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 보스 | ENEMY | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |

---

## 데미지 계산

→ [전투 메카닉 - 데미지 계산 공식](전투%20메카닉.md#데미지-계산-공식) 참조

---

## 속성 시스템 (Phase 2)

> 초기 버전에서는 미적용, 후반 업데이트에서 추가 예정

### 속성 종류

| 속성 | 강함 (1.5배) | 약함 (0.75배) |
|------|--------------|---------------|
| 화염 | 자연/빙결 | 수속성 |
| 빙결 | 수속성 | 화염 |
| 번개 | 수속성/기계 | 대지 |
| 대지 | 번개 | 자연 |
| 자연 | 대지 | 화염 |
| 암흑 | 신성 | 신성 |
| 신성 | 암흑 | 암흑 |

### 속성 적용

- 스킬에 속성 부여
- 적에게 속성 약점/내성 존재
- 성벽 마법포대: 화염/빙결/번개 선택

---

## 상태이상

### 디버프 종류

| 상태 | 효과 | 지속시간 |
|------|------|----------|
| 화상 | 매 초 최대HP 2% 피해 | 5초 |
| 빙결 | 이동/공격속도 50% 감소 | 3초 |
| 감전 | 1초간 행동 불가 | 1초 |
| 중독 | 매 초 고정 피해 | 8초 |
| 출혈 | 이동 시 추가 피해 | 6초 |
| 스턴 | 모든 행동 불가 | 2초 |

### 버프 종류

| 상태 | 효과 | 지속시간 |
|------|------|----------|
| 공격 강화 | ATK/MAG +30% | 10초 |
| 방어 강화 | DEF/RES +30% | 10초 |
| 신속 | SPD/MOV +30% | 8초 |
| 재생 | 매 초 HP 3% 회복 | 10초 |
| 보호막 | HP 대신 피해 흡수 | 피해량 소진 시 |

---

## 역할별 스탯 경향

### 영웅/유닛

| 역할 | HP | ATK | MAG | DEF | RES | SPD | RNG |
|------|-----|-----|-----|-----|-----|-----|-----|
| 탱커 | ★★★★★ | ★★ | ★ | ★★★★★ | ★★★ | ★★ | ★ |
| 근접딜러 | ★★★ | ★★★★★ | ★ | ★★ | ★★ | ★★★★ | ★ |
| 원거리딜러 | ★★ | ★★★★ | ★ | ★ | ★★ | ★★★ | ★★★★★ |
| 마법사 | ★★ | ★ | ★★★★★ | ★ | ★★★ | ★★ | ★★★★ |
| 힐러 | ★★★ | ★ | ★★★★ | ★★ | ★★★★ | ★★ | ★★★ |

### 구조물/성벽

| 엔티티 | HP | ATK | MAG | DEF | RES |
|--------|-----|-----|-----|-----|-----|
| 목책 | ★★★ | - | - | ★★★ | ★ |
| 철조망 | ★★ | - | - | ★★ | ★★ |
| 성벽 | ★★★★★ | - | - | ★★★★ | ★★★ |
| 발리스타 | - | ★★★★★ | - | - | - |
| 투석기 | - | ★★★★ | - | - | - |
| 마법포대 | - | - | ★★★★ | - | - |

---

## 레벨별 스탯 성장

### 성장 공식 (유닛)

```
스탯 = 기본값 + (레벨 × 성장계수)
```

### 예시: 3성 기사 (탱커)

| 레벨 | HP | ATK | MAG | DEF | RES | SPD |
|------|-----|-----|-----|-----|-----|-----|
| 1 | 500 | 50 | 10 | 40 | 20 | 1.0 |
| 30 | 1200 | 100 | 15 | 80 | 35 | 1.1 |
| 60 | 2000 | 160 | 20 | 130 | 55 | 1.2 |
| 100 | 3000 | 240 | 25 | 200 | 80 | 1.3 |

### 예시: 구조물 (레벨 = 업그레이드 단계)

| 업그레이드 | 목책 HP | 목책 DEF | 성벽 HP | 성벽 DEF |
|------------|---------|----------|---------|----------|
| Lv.1 | 200 | 30 | 5000 | 100 |
| Lv.5 | 400 | 60 | 8000 | 150 |
| Lv.10 | 700 | 100 | 12000 | 220 |

- 성장계수는 엔티티별로 다름
- 영웅: 승급 시 기본값 상승
- 구조물: 영지 업그레이드로 강화

---

## 관련 문서

- [스테이지 시스템](스테이지%20시스템.md) - 맵, 웨이브, 배치
- [전투 메카닉](전투%20메카닉.md) - 상위 문서
- [영웅 시스템](영웅%20시스템.md) - 영웅 역할 및 구성
- [링크 시스템](영웅/링크%20시스템.md) - HP/링크 손실 메커니즘
